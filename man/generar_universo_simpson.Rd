% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/generar_universo_simpson.R
\name{generar_universo_simpson}
\alias{generar_universo_simpson}
\title{Genera un Universo de Datos Simulado para la Paradoja de Simpson (Versión 2)}
\usage{
generar_universo_simpson(
  n_empresas_total = 1e+05,
  semilla = 42,
  umbral_antiguedad_meses = 12,
  modo_depuracion = FALSE,
  p_baja = 0.2,
  p_media = 0.5
)
}
\arguments{
\item{n_empresas_total}{Número total de empresas a generar en la población inicial,
antes del filtrado.}

\item{semilla}{Un número entero para fijar la semilla aleatoria y garantizar la
reproducibilidad.}

\item{umbral_antiguedad_meses}{La antigüedad mínima de la deuda (en meses) para que
una empresa sea incluida en la población objetivo.}

\item{modo_depuracion}{Booleano. Si es \code{TRUE}, imprime mensajes de diagnóstico
intermedios durante la generación de datos.}

\item{p_baja}{Probabilidad de que una empresa en la población objetivo tenga
una "Baja" cultura de pago.}

\item{p_media}{Probabilidad de que una empresa en la población objetivo tenga
una "Media" cultura de pago. La probabilidad de "Alta" se calcula como
\code{1 - p_baja - p_media}.}
}
\value{
Un \code{tibble} con la \strong{población objetivo ya filtrada} y las siguientes
columnas: \code{id_empresa}, \code{cultura_pago_real}, \code{riesgo_deuda},
\code{antiguedad_deuda_cat}, \code{prob_predictiva_modelo}, \code{tipo_contacto_BPS},
\code{regularizacion_observada}.
}
\description{
Esta función implementa un Proceso de Generación de Datos (DGP) avanzado para
ilustrar la Paradoja de Simpson en un contexto de negocio realista para el BPS.
Primero, genera una población grande de empresas y luego la filtra para
obtener una "población objetivo" específica (ej. antigüedad de deuda mínima,
sin contacto previo). Sobre esta población, asigna tratamientos multivaluados
("Ausencia de Contacto", "Contacto Ligero", "Contacto Involucrado") de forma
sesgada, basándose en un modelo predictivo de alta precisión, para demostrar
cómo las conclusiones a nivel agregado pueden ser engañosas.
}
\examples{
try({ # try() para evitar errores en CRAN si los paquetes no están
  universo_objetivo <- generar_universo_simpson(n_empresas_total = 10000)
  head(universo_objetivo)
})
}
